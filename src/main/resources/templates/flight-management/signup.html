<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Signup</title>
    <script th:src="@{https://code.jquery.com/jquery-3.6.0.min.js}"></script>
    <link th:href="@{/css/boostrap.css}" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css}">
    <link rel="stylesheet" th:href="@{/css/signupForm.css}">
    <link th:href="@{/css/fragments.css}" rel="stylesheet" type="text/css">
</head>
<body>
<header class="header" id="header" th:replace="flight-management/fragments :: header"></header>
<div class="container">
    <div class="title card-box">
        <h1 class="mt-4" th:text="${title}"></h1>
    </div>
    <div class="signup-error">
        <h3 class="error signup-problem" th:text="${signupConfirmError}"></h3>
    </div>
    <form th:action="${signupAction}" method="post" enctype="multipart/form-data">
        <input type="text" th:value="${signUpPageUrl}" hidden="hidden" readonly name="signUpPageUrl">
        <div class="card-box">
            <h5 class="form-title">Profile Image</h5>
            <div class="custom-profile-image">
                <label class="custom-profile-image-label" for="profile-image">
                    <div class="image-card" id="profile-image-part1" th:if="${profileImage != null}">
                        <img class="image" th:src="@{*{'data:image/png;base64,'}+${profileImage}}" alt="image">
                    </div>
                    <div class="image-card" id="profile-image-part2" th:if="${profileImage == null}">
                        <img class="image" th:src="@{/images/blankUser.jpg}" alt="image">
                    </div>
                </label>
            </div>
            <div class="profile-image">
                <input id="profile-image"
                       name="profileImage"
                       type="file">
            </div>
        </div>
        <div class="error" th:text="${profileImageError}"></div>
        <div class="card-box">
            <h5 class="form-title">Account And Password</h5>
            <div class="row element">
                <div class="col-lg-2">
                    <label class="label-title" for="accountName">
                        <h6>Account Name</h6>
                        <span>(*)</span>
                    </label>
                </div>
                <div class="col-lg-10 field-require">
                    <input class="form-control"
                           type="text"
                           placeholder="Account Name"
                           id="accountName"
                           th:value="${temporal.accountName}"
                           name="username">
                </div>
            </div>
            <div class="error" th:text="${accountNameError}"></div>
            <div class="row element">
                <div class="col-lg-2">
                    <label class="label-title" for="password">
                        <h6>Password</h6>
                        <span>(*)</span>
                    </label>
                </div>
                <div class="col-lg-10 field-require">
                    <input class="form-control"
                           type="password"
                           placeholder="Password"
                           id="password"
                           th:value="${temporal.password}"
                           name="password">
                </div>
            </div>
            <div class="row element">
                <div class="col-lg-2">
                    <label class="label-title" for="repassword">
                        <h6>Confirm Password</h6>
                        <span>(*)</span>
                    </label>
                </div>
                <div class="col-lg-10 field-require">
                    <input class="form-control"
                           type="password"
                           placeholder="Confirm Password"
                           th:value="${repassword}"
                           id="repassword"
                           name="repassword">
                </div>
            </div>
            <div class="error" th:text="${passwordError}"></div>
        </div>
        <div class="card-box">
            <h5 class="form-title">User Detail</h5>
            <div class="row element">
                <div class="col-lg-2">
                    <label class="label-title" for="fullname">
                        <h6>Full Name</h6>
                        <span>(*)</span>
                    </label>
                </div>
                <div class="col-lg-10 field-require">
                    <input class="form-control"
                           type="text"
                           placeholder="Full Name"
                           id="fullname"
                           th:value="${temporal.name}"
                           name="name">
                </div>
            </div>
            <div class="error" th:text="${nameError}"></div>
            <div class="row element">
                <div class="col-lg-2">
                    <label class="label-title" for="email">
                        <h6>Email</h6>
                        <span>(*)</span>
                    </label>
                </div>
                <div class="col-lg-10 field-require">
                    <input class="form-control"
                           type="email"
                           placeholder="Email"
                           id="email"
                           th:value="${temporal.email}"
                           name="email">
                </div>
            </div>
            <div class="error" th:text="${emailError}"></div>
            <div class="row element">
                <div class="col-lg-2">
                    <label class="label-title" for="identity">
                        <h6>Identity</h6>
                        <span>(*)</span>
                    </label>
                </div>
                <div class="col-lg-10 field-require">
                    <input class="form-control"
                           type="text"
                           placeholder="Identity"
                           id="identity"
                           th:value="${temporal.identity}"
                           name="identity">
                </div>
            </div>
            <div class="error" th:text="${identityError}"></div>
            <div class="error" th:text="${CUAccountError}"></div>
        </div>
        <div class="card-box">
            <h5 class="form-title">User Information</h5>
            <div class="row element">
                <div class="col-lg-2">
                    <label class="label-title" for="phone">
                        <h6>Phone</h6>
                    </label>
                </div>
                <div class="col-lg-10 field-require">
                    <input class="form-control"
                           type="text"
                           placeholder="Phone"
                           id="phone"
                           th:value="${temporal.phone}"
                           name="phone">
                </div>
            </div>
            <div class="row element">
                <div class="col-lg-2">
                    <label class="label-title" for="address">
                        <h6>Address</h6>
                    </label>
                </div>
                <div class="col-lg-10 field-require">
                    <input class="form-control"
                           type="text"
                           placeholder="Address"
                           id="address"
                           th:value="${temporal.address}"
                           name="address">
                </div>
            </div>
            <div class="row element">
                <div class="col-lg-2">
                    <label class="label-title" for="dob">
                        <h6>BirthDay</h6>
                    </label>
                </div>
                <div class="col-lg-10 field-require">
                    <input class="form-control"
                           type="date"
                           placeholder="BirthDay"
                           id="dob"
                           th:value="${temporal.dob}"
                           name="dob">
                </div>
            </div>
            <div class="row element">
                <div class="col-lg-2">
                    <label class="label-title" for="gender">
                        <h6>Gender</h6>
                    </label>
                </div>
                <div class="col-lg-10 field-require">
                    <select class="form-control"
                            id="gender"
                            name="gender">
                        <th:block th:each="gender : ${genderList}">
                            <option th:value="${gender}"
                                    th:text="${gender}"
                                    th:selected="${gender == temporal.gender}">
                            </option>
                        </th:block>
                    </select>
                </div>
            </div>
        </div>
        <div class="element submit row">
            <div class="col-lg-6 submit-box">
                <button class="btn btn-success submit-btn"
                        type="submit"
                        th:text="${submit}"></button>
            </div>
            <div class="col-lg-6 submit-box">
                <button class="btn btn-success submit-btn"><a th:href="@{/login-page}">Already Have Account</a></button>
            </div>
        </div>
    </form>
</div>
<script th:src="@{/js/signupForm.js}" type="text/javascript"></script>
</body>
</html>